#include "catch.hpp"
#include "../Hilo.h"

SCENARIO("ejecuci贸n de c贸digo", "[multiprocesamiento]") {
    GIVEN("un hilo") {
        Hilo* elHilo = new Hilo();

        WHEN("se ejecuta c贸digo sin condiciones de tiempo") {
            bool ejecutado = false;
            auto codigo = [&] () { ejecutado = true; };
            elHilo->agregarCodigo(codigo);
            
            THEN("el c贸digo se ejecuta cuando ejecuta el hilo") {
                REQUIRE(!ejecutado);
                elHilo->ejecutar();
                REQUIRE(ejecutado);
            }
        }
    }
}
